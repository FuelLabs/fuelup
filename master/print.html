<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>fuelup</title>
        
        <meta name="robots" content="noindex" />
        
        


        <!-- Custom HTML head -->
        


        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        
        <link rel="icon" href="favicon.svg">
        
        
        <link rel="shortcut icon" href="favicon.png">
        
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        
        <link rel="stylesheet" href="css/print.css" media="print">
        

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        
        <link rel="stylesheet" href="fonts/fonts.css">
        

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        

        
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="index.html">Introduction</a></li><li class="chapter-item expanded "><a href="installation/index.html"><strong aria-hidden="true">1.</strong> Installation</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="installation/other.html"><strong aria-hidden="true">1.1.</strong> Other installation methods</a></li></ol></li><li class="chapter-item expanded "><a href="concepts/index.html"><strong aria-hidden="true">2.</strong> Concepts</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="concepts/how_fuelup_works.html"><strong aria-hidden="true">2.1.</strong> How fuelup works</a></li><li class="chapter-item expanded "><a href="concepts/channels.html"><strong aria-hidden="true">2.2.</strong> Channels</a></li><li class="chapter-item expanded "><a href="concepts/toolchains.html"><strong aria-hidden="true">2.3.</strong> Toolchains</a></li><li class="chapter-item expanded "><a href="concepts/components.html"><strong aria-hidden="true">2.4.</strong> Components</a></li><li class="chapter-item expanded "><a href="concepts/proxies.html"><strong aria-hidden="true">2.5.</strong> Proxies</a></li><li class="chapter-item expanded "><a href="concepts/store.html"><strong aria-hidden="true">2.6.</strong> Store</a></li></ol></li><li class="chapter-item expanded "><a href="basics.html"><strong aria-hidden="true">3.</strong> Basic usage</a></li><li class="chapter-item expanded "><a href="overrides.html"><strong aria-hidden="true">4.</strong> Overrides</a></li><li class="chapter-item expanded "><a href="configuration.html"><strong aria-hidden="true">5.</strong> Configuration</a></li><li class="chapter-item expanded "><a href="examples.html"><strong aria-hidden="true">6.</strong> Examples</a></li><li class="chapter-item expanded "><a href="developer_guide/index.html"><strong aria-hidden="true">7.</strong> Developer guide</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="developer_guide/contributing_to_fuelup.html"><strong aria-hidden="true">7.1.</strong> Contributing to fuelup</a></li><li class="chapter-item expanded "><a href="developer_guide/adding_components.html"><strong aria-hidden="true">7.2.</strong> Adding components</a></li><li class="chapter-item expanded "><a href="developer_guide/building_a_channel.html"><strong aria-hidden="true">7.3.</strong> Building a channel</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                        
                    </div>

                    <h1 class="menu-title">fuelup</h1>

                    <div class="right-buttons">
                        
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        
                        
                        <a href="https://github.com/FuelLabs/fuelup" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                        
                        

                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="introduction"><a class="header" href="#introduction">Introduction</a></h1>
<!-- This section should explain what fuelup is -->
<!-- fuelup:example:start -->
<p><em>fuelup</em> is the official package manager for <a href="https://fuel.network/">Fuel</a> that installs The Fuel Toolchain
from the official release channels, enabling you to easily switch between different
toolchains and keep them updated. It makes building and maintaining Sway applications
simpler with <a href="https://github.com/FuelLabs/sway/tree/master/forc">forc</a> and <a href="https://github.com/FuelLabs/fuel-core">fuel-core</a> for common platforms.</p>
<!-- fuelup:example:end -->
<p>Check out the <a href="concepts/index.html">Concepts</a> chapter for an overview of how <em>fuelup</em> works and some
of the terminology it uses. The <a href="installation/index.html">Installation</a> chapter covers installing
fuelup and getting started.</p>
<p>The source code of <em>fuelup</em> and this manual may be found <a href="https://github.com/FuelLabs/fuelup">here</a>. If you find a problem, check out the
<a href="https://github.com/FuelLabs/fuelup/issues">issue tracker</a>.</p>
<p>Release notes for <em>fuelup</em> may be found under <a href="https://github.com/FuelLabs/fuelup/releases">Releases</a> in our GitHub repository.</p>
<div id="chapter_begin" style="break-before: page; page-break-before: always;"></div><h1 id="installation"><a class="header" href="#installation">Installation</a></h1>
<!-- This section should explain what fuelup installs -->
<!-- fuelup:example:start -->
<p><code>fuelup</code> installs <code>forc</code> and <code>fuel-core</code>, and other plugins like
<code>forc-client</code> and <code>forc-fmt</code> to Fuelup's <code>bin</code> directory.
On Unix it is located at <code>$HOME/.fuelup/bin</code>.</p>
<!-- fuelup:example:end -->
<p>This directory can automatically be in your <code>PATH</code> environment variable if
allowed in the installation step (explained below), which means you can run them from the shell without further configuration.</p>
<h2 id="quickstart"><a class="header" href="#quickstart">Quickstart</a></h2>
<p>Installation is done through the <code>fuelup-init</code> script found on our <a href="https://github.com/FuelLabs/fuelup">repository</a>, where you may find the source code.</p>
<p>Run the following command:</p>
<!-- This section should have the default command to install fuelup -->
<!-- install:example:start -->
<pre><code class="language-sh">curl --proto '=https' --tlsv1.2 -sSf https://install.fuel.network/fuelup-init.sh | sh
</code></pre>
<!-- install:example:end -->
<p>This will install <code>forc</code>, <code>forc-client</code>, <code>forc-fmt</code>, <code>forc-crypto</code>, <code>forc-lsp</code>, <code>forc-wallet</code> as well as <code>fuel-core</code> in <code>~/.fuelup/bin</code>. The script will ask for permission to add <code>~/.fuelup/bin</code> to your <code>PATH</code>.</p>
<p>Otherwise, you can also pass <code>--no-modify-path</code> so that <code>fuelup-init</code> does not modify your <code>PATH</code> and will not ask for permission to do so:</p>
<pre><code class="language-sh">curl --proto '=https' --tlsv1.2 -sSf https://install.fuel.network/fuelup-init.sh | sh -s -- --no-modify-path
</code></pre>
<p>Ensure that all components are downloaded and works:</p>
<pre><code class="language-sh">fuelup --version
forc --version
fuel-core --version
forc-deploy --version
forc-fmt --version
forc-crypto --version
forc-lsp --version
forc-run --version
</code></pre>
<div id="chapter_begin" style="break-before: page; page-break-before: always;"></div><h1 id="other-installation-methods"><a class="header" href="#other-installation-methods">Other installation methods</a></h1>
<h2 id="windows"><a class="header" href="#windows">Windows</a></h2>
<!-- This section should explain Windows support -->
<!-- windows:example:start -->
<p>We currently do not natively support Windows. If you wish to use <code>fuelup</code> on Windows, please
use <a href="https://docs.microsoft.com/en-us/windows/wsl/install">Windows Subsystem for Linux</a>.</p>
<!-- windows:example:end -->
<h2 id="building-from-source"><a class="header" href="#building-from-source">Building from source</a></h2>
<p>You can also install <code>fuelup</code> from source. Check out the <a href="https://github.com/FuelLabs/fuelup">git repository</a> and run <code>cargo run --release</code>.</p>
<p>You should then manually move the <code>fuelup</code> binary to <code>.fuelup/bin</code>.</p>
<h2 id="direct-download"><a class="header" href="#direct-download">Direct download</a></h2>
<p><code>fuelup</code> binaries are released on our GitHub <a href="https://github.com/FuelLabs/fuelup/releases">releases page</a> where you can directly
download the appropriate bin for your system as well as check out our changelog.</p>
<div id="chapter_begin" style="break-before: page; page-break-before: always;"></div><h1 id="concepts"><a class="header" href="#concepts">Concepts</a></h1>
<p>This section will explain how fuelup works on a technical level and explains each
component of fuelup.</p>
<h2 id="terminology"><a class="header" href="#terminology">Terminology</a></h2>
<!-- This section should explain fuelup terminology -->
<!-- terms:example:start -->
<ul>
<li>
<p><strong>channel</strong> — The Fuel toolchain will be released to different &quot;channels&quot;.
Currently, it is only released to the <strong>latest</strong> channel.
See the <a href="concepts/channels.html">Channels</a> chapter for more details.</p>
</li>
<li>
<p><strong>toolchain</strong> — A &quot;toolchain&quot; is an installation of the
Fuel Orchestrator (<code>forc</code>), its related plugins (like <code>forc-fmt</code>) and
the Fuel client (<code>fuel-core</code>). A <a href="concepts/toolchains.html">toolchain specification</a> includes the
release channel and the host platform that the toolchain runs on.</p>
<p>A toolchain can be installed either through the channels, or be modularly
constructed as a <a href="concepts/toolchains.html#custom-toolchains">custom toolchain</a>.</p>
</li>
<li>
<p><strong>component</strong> — Each release of the Fuel toolchain includes several &quot;components&quot;,
which are tools used to develop on Fuel. See the <a href="concepts/components.html">Components</a> chapter for more details.</p>
</li>
</ul>
<!-- terms:example:end -->
<div id="chapter_begin" style="break-before: page; page-break-before: always;"></div><h1 id="how-fuelup-works"><a class="header" href="#how-fuelup-works">How fuelup works</a></h1>
<!-- This section should explain the purpose of fuelup -->
<!-- fuelup:example:start -->
<p><code>fuelup</code> is largely inspired by <a href="https://github.com/rust-lang/rustup"><code>rustup</code></a>. It installs and manages multiple Fuel
toolchains and presents them all through a single set of tools within <code>~/.fuelup/bin</code>.</p>
<!-- fuelup:example:end -->
<p>Generally, it is not recommended to manually make changes to the fuelup directory, otherwise <code>fuelup</code>
might not function as expected. If you have made changes to the directory, we recommend removing
the entire directory and re-installing fuelup with <a href="concepts/../installation/index.html#quickstart"><code>fuelup-init</code></a>.</p>
<h2 id="proxies"><a class="header" href="#proxies">Proxies</a></h2>
<p>On the surface, the installed executables seem to live in <code>~/.fuelup/bin</code>, but the <a href="https://fuellabs.github.io/sway/master/book/forc/index.html"><code>forc</code></a>, <a href="https://github.com/FuelLabs/fuel-core"><code>fuel-core</code></a>
and other executables installed in <code>~/.fuelup/bin</code> are actually not the real binaries
but are all just symlinks to <code>fuelup</code> itself! <code>fuelup</code> contains logic to act as a
<a href="concepts/proxies.html">proxy</a> for the real binaries, so that it can change its behavior based on what component
is being called. This is how <code>fuelup</code> can switch between toolchains.</p>
<p>A common mistake is to directly move binaries into the <code>bin</code> directory, which would
break the behavior of <code>fuelup</code>.</p>
<h2 id="store"><a class="header" href="#store">Store</a></h2>
<p>All actual executables are installed within the <em><a href="concepts/store.html">store</a></em>. This is usually <code>~/.fuelup/store</code>.
This is where the real binaries are installed and cached to be used in <em><a href="concepts/toolchains.html">toolchains</a></em>
and <em><a href="concepts/../overrides.html">overrides</a></em> through symlinks. <code>fuelup</code> will always check the store for existing components
before trying to install them - which means you can avoid the download entirely if something
is already cached within the store!</p>
<h3 id="example"><a class="header" href="#example">Example</a></h3>
<!-- This section should give an example of how fuelup works -->
<!-- fuelup_example:example:start -->
<p>To give an example of how this all works together: imagine typing <code>forc build</code> in your terminal.
This call invokes <code>forc</code> (which is actually <code>fuelup</code>) within the fuelup bin directory, which in
turn executes the correct version of <code>forc</code> based on either an override file (<code>fuel-toolchain.toml</code>)
or your currently active toolchain (in order of priority).</p>
<!-- fuelup_example:example:end -->
<div id="chapter_begin" style="break-before: page; page-break-before: always;"></div><h1 id="channels"><a class="header" href="#channels">Channels</a></h1>
<!-- This section should give an overview of fuelup channels -->
<!-- channels:example:start -->
<p><code>fuelup</code> adopts a simplified version of <code>rustup</code> <a href="https://rust-lang.github.io/rustup/concepts/channels.html">channels</a>. Currently, the <code>latest</code>, <code>nightly</code>, and <code>beta</code> channels are published and serve as a source of distribution of Fuel toolchain binaries.</p>
<table><thead><tr><th>Channel</th><th>Source</th><th>Integration Tested</th><th>Update Frequency</th><th>Available</th></tr></thead><tbody>
<tr><td><strong><a href="concepts/channels.html#the-latest-channel">latest</a></strong></td><td>published bins</td><td>✔️</td><td>only when necessary</td><td>✔️</td></tr>
<tr><td><strong><a href="concepts/channels.html#the-nightly-channel">nightly</a></strong></td><td><code>master</code> branch</td><td>➖</td><td>nightly (1:00 AM UTC)</td><td>✔️</td></tr>
<tr><td><strong><a href="concepts/channels.html#the-beta-3-channel">beta-3</a></strong></td><td>published bins</td><td>➖</td><td>only when necessary</td><td>✔️</td></tr>
<tr><td><strong><a href="concepts/channels.html#the-beta-4-channel">beta-4</a></strong></td><td>published bins</td><td>➖</td><td>only when necessary</td><td>✔️</td></tr>
</tbody></table>
<!-- channels:example:end -->
<h2 id="the-beta-3-channel"><a class="header" href="#the-beta-3-channel">The <code>beta-3</code> channel</a></h2>
<p>The <code>beta-3</code> channel is a published TOML file describing the toolchain that is compatible with our <a href="https://fuel-labs.ghost.io/announcing-beta-3-testnet/">beta-3 testnet</a>. This toolchain should be used to interact with and build on the testnet. The components to be installed can be found <a href="https://github.com/FuelLabs/fuelup/blob/gh-pages/channel-fuel-beta-3.toml">here</a>.</p>
<h2 id="the-beta-4-channel"><a class="header" href="#the-beta-4-channel">The <code>beta-4</code> channel</a></h2>
<!-- markdown-link-check-disable -->
<p>The <code>beta-4</code> channel is a published TOML file describing the toolchain that is compatible with our <a href="https://fuel-labs.ghost.io/announcing-beta-4-testnet/">beta-4 testnet</a>. This toolchain should be used to interact with and build on the testnet. The components to be installed can be found <a href="https://github.com/FuelLabs/fuelup/blob/gh-pages/channel-fuel-beta-4.toml">here</a>.</p>
<!-- markdown-link-check-enable -->
<h2 id="the-nightly-channel"><a class="header" href="#the-nightly-channel">The <code>nightly</code> channel</a></h2>
<!-- This section should give an overview of the nightly channel -->
<!-- nightly:example:start -->
<p>The <code>nightly</code> channel is a published TOML file describing successful builds of the <code>master</code> branch of <code>forc</code> and <code>fuel-core</code> for the day.
These builds are released in the <a href="https://github.com/FuelLabs/sway-nightly-binaries/releases">sway-nightly-binaries</a> repository and the workflows in that repo start building them every day at <strong>00:00 UTC</strong>.</p>
<p>The <code>nightly</code> channel within <code>fuelup</code> is updated by a scheduled GitHub workflow that <strong>runs every day at 01:00 UTC</strong>, after builds have finished.
Note that the <code>nightly</code> channel might fail to build, in which case it is possible that the <code>nightly</code> toolchain may not be available for that day.</p>
<p>You should use <code>nightly</code> if you want the latest changes to <code>master</code> that have not been officially released yet.
Keep in mind that compatibility between <code>forc</code> and <code>fuel-core</code> is not guaranteed here, and you should expect unstable features to break.</p>
<!-- nightly:example:end -->
<h2 id="the-latest-channel"><a class="header" href="#the-latest-channel">The <code>latest</code> channel</a></h2>
<!-- This section should give an overview of the latest channel -->
<!-- latest:example:start -->
<p>The <code>latest</code> channel is pointing to our latest beta network. This toolchain should be used to interact with and build on the latest testnet. This is also the default channel for <code>fuelup</code>.</p>
<!-- latest:example:end -->
<blockquote>
<p><strong>Note</strong></p>
<p>The <code>latest</code> channel used to point latest compatible versions of <code>forc</code> and <code>fuel-core</code>, after version v0.20.0 latest is changed to point to the latest network. This is a breaking change and should be taken into account for existing workflows.</p>
</blockquote>
<h2 id="developer-guide"><a class="header" href="#developer-guide">Developer Guide</a></h2>
<h3 id="understanding-the-latest-workflow"><a class="header" href="#understanding-the-latest-workflow">Understanding the <code>latest</code> workflow</a></h3>
<blockquote>
<p><strong>Note</strong></p>
<p>Reading the information below is only really necessary if you wish to contribute to the workflows or want a deeper understanding on how channels are updated.</p>
</blockquote>
<p>The entry point of the scheduled workflow is within <code>index-versions.yml</code>. We run the Rust script <code>compare-versions</code> to collect versions of <code>forc</code> and <code>fuel-core</code> to be tested. These versions are filtered for incompatible versions prior to being used as a JSON string input to <code>test-toolchain-compatibility.yml</code>, where the testing occurs.</p>
<p>In <code>test-toolchain-compatibility.yml</code>, The versions JSON string input is used to initialize a matrix using the <a href="https://docs.github.com/en/actions/learn-github-actions/expressions#fromjson"><code>fromJSON</code></a> expression. We checkout the Sway repo at the given <code>forc</code> version and pull the <code>fuel-core</code> Docker image at the given <code>fuel-core</code> version and run integration tests found in the <a href="https://github.com/FuelLabs/sway/blob/3bd8eaf4a0f11a3009c9421100cc06c2e897b6c2/.github/workflows/ci.yml#L229-L270">Sway CI</a> for them.</p>
<p>Note that we only mark versions as incompatible specifically if tests fail, and not if other prior steps fail (e.g. we do not want to mark versions as incompatible if there were errors pulling the Docker image)</p>
<p>The <a href="https://github.com/actions/upload-artifact">upload-artifact</a> action is used to collect the test results from the matrix to be used later in a <a href="https://github.com/actions/download-artifact">download-artifact</a> step.</p>
<p>If tests were not skipped and are now done, we finally get to the <code>index-versions</code> job. We download the artifacts that were previously uploaded to be used here. This job will:</p>
<ol>
<li>
<p>upload incompatible versions to <code>gh-pages</code>. These incompatible versions are named in the format <code>incompatible-forc-&lt;FORC_VERSION&gt;@fuel-core-&lt;FUEL_CORE_VERSION&gt;</code>.</p>
</li>
<li>
<p>update the channel by filtering for the latest versions of <code>forc</code> and <code>fuel-core</code> that passed tests within the matrix by running <code>index-versions.sh</code>. These are named in the format <code>compatible-forc-&lt;FORC_VERSION&gt;@fuel-core-&lt;FUEL_CORE_VERSION&gt;</code>. Note that these files are not saved or uploaded onto <code>gh-pages</code> - they are only a way for the <code>test-toolchain-compatibility</code> job to share test results with this job.</p>
</li>
</ol>
<h3 id="debugging-the-workflow"><a class="header" href="#debugging-the-workflow">Debugging the workflow</a></h3>
<p>If you're contributing to the workflows, it might be a good idea to fork the repo and test any changes you've made on a personal repo first.</p>
<p>Some changes you might want to make to allow for easier testing:</p>
<ol>
<li>
<p>You may want to use the <a href="https://docs.github.com/en/actions/using-workflows/triggering-a-workflow#using-a-single-event">push</a> or <a href="https://docs.github.com/en/actions/using-workflows/triggering-a-workflow#defining-inputs-for-manually-triggered-workflows">workflow_dispatch</a> triggers to make testing easier.</p>
</li>
<li>
<p>You can also exit with 0 or 1 in jobs or steps where you want it to pass/fail.</p>
</li>
</ol>
<p>You may also use <a href="https://github.com/nektos/act"><code>nektos/act</code></a> to run the workflow(s) locally.</p>
<div id="chapter_begin" style="break-before: page; page-break-before: always;"></div><h1 id="toolchains"><a class="header" href="#toolchains">Toolchains</a></h1>
<!-- This section should give a basic overview of toolchains -->
<!-- toolchains:example:start -->
<p>Many <code>fuelup</code> commands deal with <em>toolchains</em>, a single installation of the
Fuel toolchain. <code>fuelup</code> supports <strong>two</strong> types of toolchains.</p>
<ol>
<li>Distributable toolchains which track the official release <a href="concepts/channels.html">channels</a> (e.g., <em>latest</em>, <em>nightly</em>);</li>
<li>Custom toolchains and install individual components in a modular manner.</li>
</ol>
<!-- toolchains:example:end -->
<h2 id="toolchain-specification"><a class="header" href="#toolchain-specification">Toolchain specification</a></h2>
<p>Standard release channel toolchain names have the following form:</p>
<pre><code class="language-text">&lt;channel&gt;[-&lt;date&gt;][-&lt;host&gt;]

&lt;channel&gt;       = latest
&lt;date&gt;          = YYYY-MM-DD
&lt;host&gt;          = &lt;target-triple&gt;
</code></pre>
<p>'channel' is a named release channel. Channel names can be optionally appended
with an archive date, as in <code>nightly-2014-12-18</code>, in which case the toolchain
is downloaded from the archive for that date.</p>
<p>Finally, the host may be specified as a target triple.</p>
<h2 id="custom-toolchains"><a class="header" href="#custom-toolchains">Custom toolchains</a></h2>
<p>For most use cases, using the officially packaged toolchains is good enough.</p>
<p>For advanced use cases, <code>fuelup</code> allows you to build a toolchain in a
modular manner, and to specify specific versions of components to install.</p>
<p>To initialize a new, empty toolchain:</p>
<pre><code class="language-sh">fuelup toolchain new my_toolchain
</code></pre>
<p>Now you can add/remove components to/from the toolchain as you wish:</p>
<pre><code class="language-sh">fuelup component add forc
</code></pre>
<p>In custom toolchains, you can specify a specific version of a component to install:</p>
<pre><code class="language-sh">fuelup component add forc@0.19.2
</code></pre>
<div id="chapter_begin" style="break-before: page; page-break-before: always;"></div><h1 id="components"><a class="header" href="#components">Components</a></h1>
<p>Each <a href="concepts/toolchains.html">toolchain</a> has several &quot;components&quot;, which are tools used to develop on Fuel.</p>
<p>The <code>fuelup component</code> command is used to manage the installed components.</p>
<p>Components can be added to an already-installed toolchain with the <code>fuelup component</code> command:</p>
<pre><code class="language-sh">fuelup component add forc
</code></pre>
<p>In custom toolchains, you also have the choice of adding a specific version of a component:</p>
<pre><code class="language-sh">fuelup component add forc@0.30.1
</code></pre>
<h2 id="components-overview"><a class="header" href="#components-overview">Components overview</a></h2>
<p>The following is an overview of components installable through <code>fuelup</code>:</p>
<ul>
<li><a href="https://fuellabs.github.io/sway/master/book/forc/index.html"><code>forc</code></a> — The Fuel Orchestrator, a suite of tools to work with the Fuel ecosystem. This comes
with some built-in plugin executables, including but not limited to: <a href="https://fuellabs.github.io/sway/master/book/forc/plugins/forc_client/index.html"><code>forc-client</code></a>, <a href="https://fuellabs.github.io/sway/master/book/forc/plugins/forc_fmt.html"><code>forc-fmt</code></a> and <a href="https://fuellabs.github.io/sway/master/book/forc/plugins/forc_lsp.html"><code>forc-lsp</code></a>.</li>
<li><a href="https://github.com/FuelLabs/fuel-core"><code>fuel-core</code></a> — Full node implementation of the Fuel v2 protocol, written in Rust.</li>
<li><a href="https://fuellabs.github.io/sway/master/book/forc/plugins/forc_explore.html"><code>forc-explore</code></a> — A Forc plugin for running the Fuel Block Explorer.</li>
<li><a href="https://fuellabs.github.io/sway/master/book/forc/plugins/forc_crypto.html"><code>forc-crypto</code></a> — Forc plugin for hashing arbitrary data.</li>
<li><a href="https://github.com/FuelLabs/forc-wallet"><code>forc-wallet</code></a> - A Forc plugin for managing Fuel wallets.</li>
<li><a href="https://github.com/FuelLabs/fuel-indexer"><code>fuel-indexer</code></a> - A standalone service that can be used to index various components of the Fuel blockchain.</li>
<li><a href="https://github.com/FuelLabs/fuel-indexer"><code>forc-index</code></a> - A Forc plugin used to interact with a Fuel Indexer service.</li>
</ul>
<div id="chapter_begin" style="break-before: page; page-break-before: always;"></div><h1 id="proxies-1"><a class="header" href="#proxies-1">Proxies</a></h1>
<p><code>fuelup</code> provides wrappers for the common Fuel toolchain
<a href="concepts/components.html">components</a>. These are called <em>proxies</em> and represent commands
which are provided by the components themselves.</p>
<p>This is how <code>fuelup</code> knows to differentiate between different
toolchains and different versions of the same components, since
running a component's command will use <code>fuelup</code> as a proxy to execute.</p>
<p>This allows the developer to switch smoothly between different
toolchains if they are working on different projects.</p>
<div id="chapter_begin" style="break-before: page; page-break-before: always;"></div><h1 id="store-1"><a class="header" href="#store-1">Store</a></h1>
<p>This is where all the actual binaries are installed and sometimes executed through
<a href="concepts/../overrides.html">overrides</a>. Components will be installed in directories named in the format <code>&lt;NAME&gt;-&lt;VERSION&gt;</code>.</p>
<p>For example, forc v0.35.5 will be installed in a directory called <code>forc-0.35.5</code>.</p>
<div id="chapter_begin" style="break-before: page; page-break-before: always;"></div><h1 id="basic-usage"><a class="header" href="#basic-usage">Basic usage</a></h1>
<p>The quickest way to get started is to install the <code>latest</code> toolchain, although this step should be automatically done if you
installed <code>fuelup</code> via <code>fuelup-init</code>:</p>
<pre><code class="language-sh">fuelup toolchain install latest
</code></pre>
<h2 id="keeping-the-fuel-toolchain-up-to-date"><a class="header" href="#keeping-the-fuel-toolchain-up-to-date">Keeping the Fuel toolchain up to date</a></h2>
<p>The Fuel toolchain is distributed on one <a href="concepts/channels.html">release channel</a>: latest (with nightly being a WIP).
<code>fuelup</code> uses the <code>latest</code> channel by default, which represents the latest stable release of the Fuel toolchain.</p>
<p>When new versions of the components within an distributable Fuel toolchain (<code>latest</code> or <code>nightly</code>)
are released, simply type <code>fuelup update</code> to update:</p>
<!-- This section should show the command to update distributable toolchains -->
<!-- update:example:start -->
<pre><code class="language-sh">fuelup update
</code></pre>
<!-- update:example:end -->
<h2 id="keeping-fuelup-up-to-date"><a class="header" href="#keeping-fuelup-up-to-date">Keeping <code>fuelup</code> up to date</a></h2>
<p>You can request that <code>fuelup</code> update itself to the latest version of <code>fuelup</code>
by running:</p>
<!-- This section should show the command to update fuelup -->
<!-- update_fuelup:example:start -->
<pre><code class="language-sh">fuelup self update
</code></pre>
<!-- update_fuelup:example:end -->
<h2 id="help-system"><a class="header" href="#help-system">Help system</a></h2>
<p>The <code>fuelup</code> command-line is built with <a href="https://github.com/clap-rs/clap">clap</a>, which serves a nice, built-in help system
that provides more information about each command. Run <code>fuelup help</code> for an overview. Detailed
help for each subcommand is also available.</p>
<p>For example, run <code>fuelup component --help</code> for specifics on installing <a href="concepts/components.html">components</a>.</p>
<div id="chapter_begin" style="break-before: page; page-break-before: always;"></div><h1 id="overrides"><a class="header" href="#overrides">Overrides</a></h1>
<!-- This section should explain fuelup overrides -->
<!-- overrides:example:start -->
<p><code>fuelup</code> automatically determines which <a href="concepts/toolchains.html">toolchain</a> to use when one of the installed commands like
<code>forc</code> is executed.</p>
<p>You can override the installed default toolchain using a <code>fuel-toolchain.toml</code> file.</p>
<!-- overrides:example:end -->
<h2 id="the-toolchain-file"><a class="header" href="#the-toolchain-file">The toolchain file</a></h2>
<!-- This section should explain the fuel-toolchain TOML file -->
<!-- toolchain:example:start -->
<p>The <code>fuel-toolchain.toml</code> file allows projects to &quot;pin&quot; to a specific set of fuel toolchain component versions.
This greatly improves the reproducibility of a project, as the <code>fuel-toolchain.toml</code> contains the set of known,
working versions for each tool used to build it.</p>
<p>When this file is present, <code>fuelup</code> will override the default toolchain with the specified toolchain when executing binaries
in the toolchain.</p>
<p>In these cases, the toolchain can be specified in a file called <code>fuel-toolchain.toml</code>. These toolchains can only be
the <a href="concepts/toolchains.html#toolchains">distributed toolchains</a> at this point in time.</p>
<!-- toolchain:example:end -->
<p>Here's what a sample project might look like:</p>
<pre><code class="language-console">$ tree -L 1 # 'tree -L 1' shows the project structure up to the depth of 1
.
├── Cargo.toml
├── Forc.toml
├── fuel-toolchain.toml
├── project
├── README.md
└── SPECIFICATION.md
</code></pre>
<h3 id="examples"><a class="header" href="#examples">Examples</a></h3>
<p>An application using the <a href="concepts/channels.html#the-beta-3-channel"><code>beta-3</code></a> toolchain:</p>
<pre><code class="language-toml">[toolchain]
channel = &quot;beta-3&quot;
</code></pre>
<p>Let's say we have a project on the <code>beta-3</code> testnet, and we want to try using a different version forc to develop on it:</p>
<pre><code class="language-toml">[toolchain]
channel = &quot;beta-3&quot;

[components]
forc = &quot;0.36.0&quot; # in beta-3, forc is pinned to v0.37.3
</code></pre>
<div id="chapter_begin" style="break-before: page; page-break-before: always;"></div><h1 id="configuration"><a class="header" href="#configuration">Configuration</a></h1>
<p><em>fuelup</em> has a <a href="https://github.com/toml-lang/toml">TOML</a> settings file at
<code>.fuelup/settings.toml</code>. The schema for this file is not part of the public
interface for <em>fuelup</em> - the fuelup CLI should be used to query and set settings.</p>
<h2 id="generate-shell-completions"><a class="header" href="#generate-shell-completions">Generate Shell Completions</a></h2>
<p>Enable tab completion for Bash, Fish, Zsh, or PowerShell. The script prints output on <code>stdout</code>,
allowing one to re-direct the output to the file of their choosing. Where you place the file will
depend on which shell, and which operating system you are using. Your particular configuration may
also determine where these scripts need to be placed.</p>
<p>Here are some common set ups for the supported shells under Unix and similar operating systems
(such as GNU/Linux). For these settings to take effect, you may have to log out and log back in to
your shell session.</p>
<h3 id="bash"><a class="header" href="#bash">BASH</a></h3>
<p>Completion files are commonly stored in <code>/etc/bash_completion.d/</code> for system-wide commands, but can
be stored in <code>~/.local/share/bash-completion/completions</code> for user-specific commands.</p>
<pre><code class="language-sh">mkdir -p ~/.local/share/bash-completion/completions
fuelup completions --shell=bash &gt;&gt; ~/.local/share/bash-completion/completions/fuelup
</code></pre>
<h3 id="bash-macoshomebrew"><a class="header" href="#bash-macoshomebrew">BASH (macOS/Homebrew)</a></h3>
<p>Homebrew stores bash completion files within the Homebrew directory. With the <code>bash-completion</code> brew
formula installed.</p>
<pre><code class="language-sh">mkdir -p $(brew --prefix)/etc/bash_completion.d
fuelup completions --shell=bash &gt; $(brew --prefix)/etc/bash_completion.d/fuelup.bash-completion
</code></pre>
<h3 id="fish"><a class="header" href="#fish">FISH</a></h3>
<p>Fish completion files are commonly stored in <code>$HOME/.config/fish/completions</code>.</p>
<pre><code class="language-sh">mkdir -p ~/.config/fish/completions
fuelup completions --shell=fish &gt; ~/.config/fish/completions/fuelup.fish
</code></pre>
<h3 id="zsh"><a class="header" href="#zsh">ZSH</a></h3>
<p>ZSH completions are commonly stored in any directory listed in your <code>$fpath</code> variable. To use these
completions, you must either add the generated script to one of those directories, or add your own
to this list.</p>
<p>Adding a custom directory is often the safest bet if you are unsure of which directory to use. First
create the directory; for this example we'll create a hidden directory inside our <code>$HOME</code> directory:</p>
<pre><code class="language-sh">mkdir ~/.zfunc
</code></pre>
<p>Then add the following lines to your <code>.zshrc</code> just before <code>compinit</code>:</p>
<pre><code class="language-sh">fpath+=~/.zfunc
</code></pre>
<p>Now you can install the completions script using the following command:</p>
<pre><code class="language-sh">fuelup completions --shell=zsh &gt; ~/.zfunc/_fuelup
</code></pre>
<h3 id="powershell"><a class="header" href="#powershell">PowerShell</a></h3>
<p>The <code>powershell</code> completion scripts require PowerShell v5.0+ (which comes with Windows 10, but can be
downloaded separately for windows 7 or 8.1).</p>
<p>First, check if a profile has already been set</p>
<pre><code class="language-sh">Test-Path $profile
</code></pre>
<p>If the above command returns <code>False</code> run the following</p>
<pre><code class="language-sh">New-Item -path $profile -type file -force
</code></pre>
<p>Now open the file provided by <code>$profile</code> (if you used the <code>New-Item</code> command it will be
<code>${env:USERPROFILE}\Documents\WindowsPowerShell\Microsoft.PowerShell_profile.ps1</code>).</p>
<p>Next, we either save the completions file into our profile, or into a separate file and source it
inside our profile. To save the completions into our profile simply use</p>
<pre><code class="language-sh">fuelup completions --shell=powershell &gt;&gt; ${env:USERPROFILE}\Documents\WindowsPowerShell\Microsoft.PowerShell_profile.ps1
</code></pre>
<h3 id="elvish"><a class="header" href="#elvish">ELVISH</a></h3>
<p>Elvish completions are commonly stored in <a href="https://elv.sh/ref/epm.html#the-epm-managed-directory"><code>epm</code></a>-managed
directories.</p>
<pre><code class="language-sh">fuelup completions --shell=elvish &gt; ~/.local/share/elvish/lib/fuelup.elv
</code></pre>
<p>Then in <a href="https://elv.sh/ref/command.html#rc-file"><code>rc.elv</code></a>, add the following line to activate the
generated completions.</p>
<pre><code class="language-sh">use fuelup
</code></pre>
<div id="chapter_begin" style="break-before: page; page-break-before: always;"></div><h1 id="examples-1"><a class="header" href="#examples-1">Examples</a></h1>
<table><thead><tr><th>Command</th><th>Description</th></tr></thead><tbody>
<tr><td><code>fuelup toolchain install latest</code></td><td>Installs the toolchain distributed by the <code>latest</code> channel</td></tr>
<tr><td><code>fuelup toolchain new my_toolchain</code></td><td>Creates a new custom toolchain named 'my_toolchain' and sets it as the default</td></tr>
<tr><td><code>fuelup toolchain uninstall my_toolchain</code></td><td>Uninstalls the toolchain named 'my_toolchain'</td></tr>
<tr><td><code>fuelup default my_toolchain</code></td><td>Sets 'my_toolchain' as the active toolchain</td></tr>
<tr><td><code>fuelup component add forc</code></td><td>Adds <em><a href="https://github.com/FuelLabs/sway/tree/master/forc">forc</a></em> to the currently active custom toolchain</td></tr>
<tr><td><code>fuelup component add fuel-core@0.9.5</code></td><td>Adds <em><a href="https://github.com/FuelLabs/fuel-core">fuel-core</a></em> v0.9.5 to the currently active custom toolchain</td></tr>
<tr><td><code>fuelup component remove forc</code></td><td>Removes <em>forc</em> from the currently active custom toolchain</td></tr>
<tr><td><code>fuelup self update</code></td><td>Updates <em>fuelup</em></td></tr>
<tr><td><code>fuelup check</code></td><td>Checks for updates to distributable toolchains</td></tr>
<tr><td><code>fuelup show</code></td><td>Shows the active toolchain and installed toolchains, as well as the host and fuelup home</td></tr>
<tr><td><code>fuelup toolchain help</code></td><td>Shows the <code>help</code> page for a subcommand (like <code>toolchain</code>)</td></tr>
<tr><td><code>fuelup completions --shell=zsh</code></td><td>Generate shell completions for ZSH</td></tr>
</tbody></table>
<div id="chapter_begin" style="break-before: page; page-break-before: always;"></div><h1 id="developer-guide-1"><a class="header" href="#developer-guide-1">Developer Guide</a></h1>
<p>This section serves as a guide for people who are interested on working on and contributing to <code>fuelup</code>.</p>
<p>If you simply wish to use <code>fuelup</code>, you may ignore this section.</p>
<p>This section will go through:</p>
<ul>
<li>How to setup <code>fuelup</code> in your environment for contributions,</li>
<li>How to add support for a component to fuelup</li>
<li>How <code>build-channel</code> is used in the CI, and how to manually use it to build a channel for fuelup</li>
</ul>
<div id="chapter_begin" style="break-before: page; page-break-before: always;"></div><h1 id="contributing-to-fuelup"><a class="header" href="#contributing-to-fuelup">Contributing To Fuelup</a></h1>
<p>Thanks for your interest in contributing to <code>fuelup</code>! This document outlines the process for installing and setting up <code>fuelup</code>, as well as some conventions on contributing to <code>fuelup</code>.</p>
<p>If you run into any difficulties getting started, you can always ask questions on our <a href="https://forum.fuel.network/">Forum</a>.</p>
<h2 id="getting-the-repository"><a class="header" href="#getting-the-repository">Getting the repository</a></h2>
<ol>
<li>Visit the <a href="https://github.com/FuelLabs/fuelup">fuelup</a> repo and fork the project.</li>
<li>Then clone your forked copy to your local machine and get to work.</li>
</ol>
<pre><code class="language-sh">git clone https://github.com/FuelLabs/fuelup
cd fuelup
</code></pre>
<h2 id="building-and-testing"><a class="header" href="#building-and-testing">Building and testing</a></h2>
<p>The following steps will run the fuelup test suite and ensure that everything is set up correctly.</p>
<p>First, run and ensure all tests pass:</p>
<pre><code class="language-sh">cargo test
</code></pre>
<p>There are both unit tests and integration tests. Unit tests involve testing isolated components of the codebase,
while integration tests involve directly invoking the <code>fuelup</code> binary in a sandboxed environment with a
temporary filesystem.</p>
<p>Note that some integration tests involve installing a toolchain and adding components, which means they
will fail without internet connection.</p>
<p>Congratulations! You've now got everything setup and are ready to start making contributions.</p>
<h2 id="finding-something-to-work-on"><a class="header" href="#finding-something-to-work-on">Finding something to work on</a></h2>
<p>There are many ways in which you may contribute to <code>fuelup</code>, some of which involve coding knowledge and some which do not. A few examples include:</p>
<ul>
<li>Reporting bugs</li>
<li>Adding documentation to the <code>fuelup</code> book</li>
<li>Adding new features or bugfixes for which there is already an open issue</li>
<li>Making feature requests</li>
</ul>
<p>Check out our <a href="https://github.com/FuelLabs/fuelup/labels/help%20wanted">Help Wanted</a>, <a href="https://github.com/FuelLabs/fuelup/labels/book">Fuelup Book</a> or <a href="https://github.com/FuelLabs/fuelup/labels/good%20first%20issue">Good First Issue</a> issues to find a suitable task.</p>
<p>If you are planning something big, for example, related to multiple components or changes current behaviors, make sure to open an issue to discuss with us before starting on the implementation.</p>
<h2 id="contribution-flow"><a class="header" href="#contribution-flow">Contribution flow</a></h2>
<p>This is a rough outline of what a contributor's workflow looks like:</p>
<ul>
<li>Make sure what you want to contribute is already tracked as an issue.
<ul>
<li>We may discuss the problem and solution in the issue.</li>
</ul>
</li>
<li>Create a Git branch from where you want to base your work. This is usually master.</li>
<li>Write code, add test cases, and commit your work.</li>
<li>Run tests and make sure all tests pass.</li>
<li>If the PR contains any breaking changes, add the breaking label to your PR.</li>
<li>Push your changes to a branch in your fork of the repository and submit a pull request.
<ul>
<li>Make sure mention the issue, which is created at step 1, in the commit message.</li>
</ul>
</li>
<li>Your PR will be reviewed and some changes may be requested.
<ul>
<li>Once you've made changes, your PR must be re-reviewed and approved.</li>
<li>If the PR becomes out of date, you can use GitHub's 'update branch' button.</li>
<li>If there are conflicts, you can merge and resolve them locally. Then push to your PR branch.
Any changes to the branch will require a re-review.</li>
</ul>
</li>
<li>Our CI system (Github Actions) automatically tests all authorized pull requests.</li>
<li>Use Github to merge the PR once approved.</li>
</ul>
<p>Thanks for your contributions!</p>
<h3 id="linking-issues"><a class="header" href="#linking-issues">Linking issues</a></h3>
<p>Pull requests should be linked to at least one issue in the same repo.</p>
<p>If the pull request resolves the relevant issues, and you want GitHub to close these issues automatically after it merged into the default branch, you can use the syntax (<code>KEYWORD #ISSUE-NUMBER</code>) like this:</p>
<pre><code class="language-text">close #123
</code></pre>
<p>If the pull request links an issue but does not close it, you can use the keyword <code>ref</code> like this:</p>
<pre><code class="language-text">ref #456
</code></pre>
<p>Multiple issues should use full syntax for each issue and separate by a comma, like:</p>
<pre><code class="language-text">close #123, ref #456
</code></pre>
<div id="chapter_begin" style="break-before: page; page-break-before: always;"></div><h1 id="adding-components"><a class="header" href="#adding-components">Adding components</a></h1>
<p>Adding components in <code>fuelup</code> is often just a small PR to <a href="https://github.com/FuelLabs/fuelup/blob/master/components.toml"><code>components.toml</code></a> in the repo, followed by a
new release of <code>fuelup</code>.</p>
<h2 id="contributing-to-componentstoml"><a class="header" href="#contributing-to-componentstoml">Contributing to <code>components.toml</code></a></h2>
<p>This section describes how you may add support for a binary within <code>fuelup</code>.</p>
<h3 id="required-interface"><a class="header" href="#required-interface">Required interface</a></h3>
<p>All <code>fuelup</code> components must implement the <code>--version</code> argument. <code>fuelup</code> uses this to display version information
in its CLI. It should print the name of the executable and the full semver version number. For example:</p>
<pre><code class="language-sh">$ forc-tx --version
forc-tx 0.44.1
</code></pre>
<h3 id="binary-packaged-natively-in-forc"><a class="header" href="#binary-packaged-natively-in-forc">Binary packaged natively in forc</a></h3>
<p>This refers to binaries like <code>forc-fmt</code> that are added within the Sway repository.</p>
<p>In this scenario, <code>fuelup</code> will already automatically download the tar file from the Sway repository and
unarchive all of them without discrimination. You will be able to use the executables, but certain features
like <code>fuelup show</code> may not work until you add them to the <a href="https://github.com/FuelLabs/fuelup/blob/master/components.toml"><code>components.toml</code></a> within the source code. <code>fuelup</code>
reads from this TOML file to know which components are supported directly through itself, so this step is
important. You may follow <a href="https://github.com/FuelLabs/fuelup/pull/363">the PR adding <code>forc-tx</code></a> as an example of how to add such a component.</p>
<h3 id="binary-packaged-outside-of-forc"><a class="header" href="#binary-packaged-outside-of-forc">Binary packaged outside of forc</a></h3>
<p>This refers to standalone binaries like <code>forc-wallet</code> which have their own repositories.</p>
<p>In this case, <code>fuelup</code> <strong>will NOT</strong> download the tar file automatically since it does not know where to
download it from. Currently, we do not support downloading and using arbitrary forc plugins and components, so
information will have to be added to <code>components.toml</code> for <code>fuelup</code> to know how to handle these. You may follow
<a href="https://github.com/FuelLabs/fuelup/pull/195">the PR adding <code>forc-wallet</code></a> as an example of how to add such a component.</p>
<p>Example:</p>
<pre><code class="language-toml">[component.forc-wallet]
name = &quot;forc-wallet&quot;
tarball_prefix = &quot;forc-wallet&quot;
is_plugin = true
executables = [&quot;forc-wallet&quot;]
repository_name = &quot;forc-wallet&quot;
targets = [ &quot;aarch64-unknown-linux-gnu&quot;, &quot;x86_64-unknown-linux-gnu&quot;, &quot;aarch64-apple-darwin&quot;, &quot;x86_64-apple-darwin&quot; ]
publish = true
</code></pre>
<p>A short description of the keys you find above:</p>
<p><code>name</code></p>
<ul>
<li>Name of the component/plugin.</li>
</ul>
<p><code>tarball_prefix</code></p>
<ul>
<li>Fuel binaries mostly conform to the format <code>&lt;name&gt;-&lt;version&gt;-&lt;target&gt;</code> for our tar files. <code>tarball_prefix</code> refers to the <code>&lt;name&gt;</code> part.</li>
</ul>
<p><code>executables</code></p>
<ul>
<li>In most cases, the name of the component is the executable itself,
but certain components like <code>forc</code> itself and <code>forc-client</code> may package multiple executables and therefore have different names.</li>
</ul>
<p><code>repository_name</code></p>
<ul>
<li>The repo name that contains the releases.</li>
</ul>
<p><code>targets</code></p>
<ul>
<li>A list of targets the component is released for.</li>
</ul>
<p><code>is_plugin</code></p>
<ul>
<li><em>Optional</em>. This tells you if this component is a <code>forc</code> plugin.</li>
</ul>
<p><code>publish</code></p>
<ul>
<li><em>Optional</em>. Declares if the component is published as a standalone, or packaged with <code>forc</code>.</li>
</ul>
<div id="chapter_begin" style="break-before: page; page-break-before: always;"></div><h1 id="building-a-channel"><a class="header" href="#building-a-channel">Building a channel</a></h1>
<p><code>build-channel</code> is a Rust script that creates a <a href="developer_guide/../concepts/channels.html">channel</a> that serves as a source of distribution of
the Fuel toolchain. This is accomplished by querying and collecting a list of downloadable components that
Fuel Labs publishes, creating a TOML file based on the collated data, which is then consumed by <code>fuelup</code>
during usage.</p>
<p>To learn about the args and options used in the script, skip to <a href="developer_guide/building_a_channel.html#usage">Usage</a>.</p>
<h2 id="use-cases"><a class="header" href="#use-cases">Use cases</a></h2>
<p>There are 2 main ways the <code>build-channel</code> script is used: in the CI, and manually.</p>
<h3 id="ci"><a class="header" href="#ci">CI</a></h3>
<p>This script's main usage is found within the <code>fuelup</code> CI. This script is in charge of publishing the <code>latest</code> and
<code>nightly</code> channels on a routine basis.</p>
<p>The <code>latest</code> channel is re-built if the <a href="https://github.com/FuelLabs/fuelup/actions/workflows/index-versions.yml">check versions workflow</a> detects a new release of <code>forc</code> or <code>fuel-core</code>, and
compatibility tests pass after that. This is explained in detail in the <a href="developer_guide/../concepts/channels.html#understanding-the-latest-workflow">latest channel developer guide</a>.</p>
<p>An example of this usage is in <a href="https://github.com/FuelLabs/fuelup/blob/3abe817673184ac17a78b2a8965234813ac6d911/.github/workflows/test-toolchain-compatibility.yml#L174"><code>test-toolchain-compatibility.yml</code></a>.</p>
<p>The <code>nightly</code> channel is more straightforward - a channel is built at 01:00 UTC every day, containing the download
links to binaries found within the <a href="https://github.com/FuelLabs/sway-nightly-binaries">sway-nightly-binaries repository</a>.</p>
<p>An example of this usage is in <a href="https://github.com/FuelLabs/fuelup/blob/3abe817673184ac17a78b2a8965234813ac6d911/.github/workflows/publish-nightly-channel.yml#L37"><code>publish-nightly-channel.yml</code></a>.</p>
<h3 id="manual"><a class="header" href="#manual">Manual</a></h3>
<p>There may be times where we need a channel for a one-off event e.g. testnets. During these events, we do not
require a routine update, and can essentially publish once and be done. This is when manual publishing is done.</p>
<p>For example, building a <code>beta-3</code> toolchain is done like so:</p>
<pre><code class="language-sh"># from fuelup project root
cd ci/build-channel &amp;&amp; cargo run -- channel-fuel-beta-3.toml 2023-02-13 forc=0.35.0 fuel-core=0.17.1
</code></pre>
<p>The above command means that we're building a channel named <code>channel-fuel-beta-3.toml</code> with the date <code>2023-02-13</code> (<code>YYYY-MM-DD</code>)
and <code>forc</code> and <code>fuel-core</code> versions <code>0.35.0</code> and <code>0.17.1</code> respectively, and the latest versions for the other unlisted components.</p>
<p>Other than for these one-off events, manually running <code>build-channel</code> locally is a good sanity check when working
on this codebase.</p>
<h2 id="usage"><a class="header" href="#usage">Usage</a></h2>
<h3 id="arguments"><a class="header" href="#arguments">Arguments</a></h3>
<p><code>OUT_FILE</code></p>
<ul>
<li>Name of TOML file that will be created.</li>
</ul>
<p><code>PUBLISH_DATE</code></p>
<ul>
<li>The date for when the channel was created and published.</li>
</ul>
<p><code>GITHUB_RUN_ID</code></p>
<ul>
<li><em>Optional</em>. This is the <code>$GITHUB_RUN_ID</code> <a href="https://docs.github.com/en/actions/learn-github-actions/variables">variable</a> in the GitHub CI. Identifies the specific run that a channel was published by.</li>
</ul>
<p><code>PACKAGES</code></p>
<ul>
<li><em>Optional</em>. A list of key-value pairs mapping component names to <a href="https://semver.org/">SemVer</a>-compatible versions, e.g. 'fuel-core=0.17.1'</li>
</ul>
<h3 id="options"><a class="header" href="#options">Options</a></h3>
<p><code>--nightly</code></p>
<ul>
<li><em>Optional</em>. Specify if we are building a nightly channel.</li>
</ul>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        

                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                

                
            </nav>

        </div>

        

        

        

        
        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        

        

        
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        

        
        
        <script type="text/javascript">
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>
        
        

    </body>
</html>
